# Общие положения

> **Читайте README**
>
>Общая информация показана в [README](README.md)-файле. Более подробные положения, касающиеся создания NPC, квест-файлов, внутриигровых настроек и прочего представлены тут.

# Создание внутриигровых сцен

На данный момент определен шаблон игровых уровней, содержащий начальную необходимую логику.
Создать уровень из шаблона можно в меню Unity *File->New Scene->Game Level*
После загрузки уровня рекомендуется сохранить его в директорию *Scenes/ChapterX* где X - номер главы, к которой относится игровой уровень

> В случае несоответствия шаблона с текущими требованиями к структуре уровня необходимо открыть Issue на GitHub.

# Навигация персонажей

Враги используют алгоритм поиска А* для навигации по игровому уровню. Картой препятствий выступает объект *Grid/Walls* на игровой сцене.
При добавлении префаба/варианта противника назначение этой опции не требуется - скрипт получает этот объект **по имени** самостоятельно.

> В случае **отсутствия** объекта **Grid/Walls** или несоответствия его имени в консоли будет отображена ошибка, а логика противников критически нарушена.
>
> В связи с этим **настоятельно рекомендуется** создавать уровни из шаблона

Навигационный код реализуется в классе *EnemyBase*, который по умолчанию встроен в классы логики противников. Дополнительных действий не требуется

# Логика триггер-зон

На текущий момент есть четыре типа триггерных зон:
- Базовый тип Trigger. **Абстрактный, не может быть реализован**
- DialogueTrigger. Запускает диалог при появлении игрока в зоне Collider
- LevelSwitchTrigger. Запускает смену уровня при появлении игрока в зоне Collider
- ScriptableTrigegr. Позволяет назначить activation и deactivation события из стороннего C# класса

Все типы наследуются от Trigger. Для создания префаба необходим назначенный Collider2D со включенной опцией isTrigger

# Логика диалоговых объектов

Диалоговыми объектами могут быть как Trigger-ы, так и NPC с назначенным скриптом *DialogueController*.
> Для корректной работы диалоговых объектов необходим реализованный объект **MasterDialogueController** и 
> префаб GUI на сцене. 
> 
> В связи с этим **настоятельно рекомендуется** создавать уровни из шаблона



---

**Author:** KeyboardDestroyer